1.确定磁盘使用率    $ iostat -T 2 10  System configuration: lcpu=8 drives=29 paths=52 vdisks=0  tty:      tin         tout    avg-cpu: % user % sys % idle % iowait  time           0.0        377.0               77.6   6.1   16.2      0.1  11:35:45 Disks:        % tm_act     Kbps      tps    Kb_read   Kb_wrtn  time hdisk5          78.0     6080.0     439.0      12048       112  11:35:45 hdisk4          79.5     11856.5     453.5      23564       149  11:35:45 hdisk6          19.0     1664.0      13.0       3328         0  11:35:45 $    % tm_act  物理磁盘活动的时间百分比 KBPS   某块磁盘传输数据的总量（读或写） tps   某块物理磁盘每秒钟 IO 传输的数量 Kb_read  从磁盘上读取数据的总量 Kb_wrtn  写入磁盘的数据总量    如果 %tm_act 字段显示磁盘非常忙，并且 Kbps 字段显示持续的大量数据传输,应考虑散布数据跨越多个磁盘。该命令支持动态的配置改变。如果发现到配置改变，iostat 报告发出一个警告，并刷新最新的系统配置。其中% tm_act是指活动时间,kbps是在统计时间内所有Kb_read与Kb_wrtn之和除以时间的值，即每秒传输的字节数如果% tm_act常过70%却只有很低的Kbps，系统可能是有比较多的LV碎片或文件碎片，当都高时则系统正常。tps表示每秒的IO数，不同的磁盘系统其可承受的IO数不同。如果一块磁盘的活动率超过70%，可以通过转移一部分的磁盘活动压力到另一个磁盘上，或者通过多个磁盘驱动器来扩展I/O压力来获得更高的性能。    $ iostat -D hdisk0 (查看某一磁盘的情况)  System configuration: lcpu=8 drives=29 paths=52 vdisks=0 hdisk0         xfer:  %tm_act      bps      tps      bread      bwrtn                              4.6     58.3K     8.8       16.5K      41.9K                 read:      rps  avgserv  minserv  maxserv   timeouts      fails                          3.5      5.8      0.3     67.8           0          0                write:      wps  avgserv  minserv  maxserv   timeouts      fails                          5.3     11.2      0.6    114.9           0          0                queue:  avgtime  mintime  maxtime  avgwqsz    avgsqsz     sqfull                        136.8      0.0    388.4      0.2        0.0         3.8 --------------------------------------------------------------------------------       如果使用启用多路径 I/O ［multi-path input-output (MPIO)］的设备，可使用 iostat -m 命令显示每条相关路径的统计信息。 $ iostat -m -D hdisk6  System configuration: lcpu=8 drives=29 paths=52 vdisks=0 
hdisk6         xfer:  %tm_act      bps      tps      bread      bwrtn                              3.4    286.7K    28.6      285.3K       1.4K                 read:      rps  avgserv  minserv  maxserv   timeouts      fails                         28.5      1.9      0.1    383.4           0          0                write:      wps  avgserv  minserv  maxserv   timeouts      fails                          0.1      4.5      0.2     94.3           0          0                queue:  avgtime  mintime  maxtime  avgwqsz    avgsqsz     sqfull                          0.9      0.0    326.3      0.0        0.0        21.0 Path1          xfer:  %tm_act      bps      tps      bread      bwrtn                              3.4    286.7K    28.6      285.3K       1.4K Path0          xfer:  %tm_act      bps      tps      bread      bwrtn                              0.0      0.0      0.0        0.0        0.0   ------------------------------------------------------------------------------        2.确定CPU使用情况 $ iostat 2  System configuration: lcpu=8 drives=29 paths=52 vdisks=0 tty:      tin         tout    avg-cpu: % user % sys % idle % iowait           0.0        354.5               79.4   4.6   15.9      0.0 ...... ......    tin  系统从所有 ttys 读取的字符的总数 tout  系统写到所有 ttys 的字符的总数 %user  以用户模式执行 CPU 利用率的百分比 %sys  以内核模式执行 CPU 利用率的百分比  %idle  CPU 空闲时间的百分比，系统没有未解决的磁盘 I/O 请求 %iowait CPU 空闲时间的百分比，期间，系统有未解决的磁盘 I/O 请求 %physc 消耗物理 CPU 的百分比，只在运行共享处理器的分区显示 %entc  消耗分配容量的百分比，只在运行共享处理器的分区显示    3.异步IO $ iostat -A  System configuration: lcpu=8 drives=29 paths=52 vdisks=0 aio: avgc avfc maxg maif maxr             0    0    0   22 4096    avgc  指定时间间隔内，每秒平均全局 non-fast 路径 AIO 请求计数 avfc  指定埋单间隔内，每秒平均全局 AIO fast 路径请求计数  maxg  自最后一次取值以来，最大的全局 non-fast 路径 AIO 请求计数 maxf  自最后一次取值以来，最大 fast 路径请求计数  maxr  容许的最大 AIO 请求。这是 AIO 设备的 maxreqs 属性 
   4.确定适配器的利用率 $ iostat -a  System configuration: lcpu=8 drives=29 paths=52 vdisks=0 tty:      tin         tout    avg-cpu: % user % sys % idle % iowait           0.0         12.6               13.5   2.2   83.4      0.8 Adapter:                   Kbps      tps    Kb_read   Kb_wrtn fcs0                       0.0       0.0        180         0  Disks:              % tm_act     Kbps      tps    Kb_read   Kb_wrtn hdisk8                 0.0       0.0       0.0          0         0 hdisk9                 0.0       0.0       0.0          0         0 hdisk18                0.0       0.0       0.0          0         0 hdisk5                 0.0       0.0       0.0          0         0 hdisk11                0.0       0.0       0.0          0         0 hdisk10                0.0       0.0       0.0          0         0 hdisk12                0.0       0.0       0.0          0         0 hdisk16                0.0       0.0       0.0          0         0 hdisk13                0.0       0.0       0.0          0         0 hdisk14                0.0       0.0       0.0          0         0 hdisk19                0.0       0.0       0.0          0         0 hdisk4                 0.0       0.0       0.0          0         0 hdisk7                 0.0       0.0       0.0        180         0 hdisk20                0.0       0.0       0.0          0         0 hdisk15                0.0       0.0       0.0          0         0 hdisk22                0.0       0.0       0.0          0         0 hdisk24                0.0       0.0       0.0          0         0 hdisk17                0.0       0.0       0.0          0         0 hdisk6                 0.0       0.0       0.0          0         0 hdisk21                0.0       0.0       0.0          0         0 hdisk23                0.0       0.0       0.0          0         0 hdisk25                0.0       0.0       0.0          0         0 hdisk26                0.0       0.0       0.0          0         0 hdisk27                0.0       0.0       0.0          0         0 Adapter:                   Kbps      tps    Kb_read   Kb_wrtn sisscsia0                1037.2      24.0   853190413  2792786844 Disks:              % tm_act     Kbps      tps    Kb_read   Kb_wrtn hdisk2                 0.0       0.0       0.0          0         0  hdisk1                 2.9      43.1       5.9    7601140  143758376 hdisk0                 4.6      57.0       8.8   56471864  143758376 hdisk3                 3.6     937.2       9.4   789117409  2505270092 Adapter:                   Kbps      tps    Kb_read   Kb_wrtn ide0                       0.0       0.0          0         0  Disks:              % tm_act     Kbps      tps    Kb_read   Kb_wrtn cd0                    0.0       0.0       0.0          0         0 
Adapter:                   Kbps      tps    Kb_read   Kb_wrtn fcs1                     1753.6     141.4   5991841616  172643922 Disks:              % tm_act     Kbps      tps    Kb_read   Kb_wrtn hdisk8                 0.0       0.0       0.0          0         0 hdisk9                 0.0       0.0       0.0          0         0 hdisk18                0.0       0.0       0.0          0         0  hdisk5                 7.9     761.6      69.1   2654793648  22544736 hdisk11                0.0       0.0       0.0          0         0 hdisk10                0.0      58.5       0.2   205481199         0 hdisk12                0.0       0.0       0.0          0         0  hdisk16                0.0      59.9       0.3   210289843    108792 hdisk13                0.0       0.0       0.0          0         0 hdisk14                0.0       0.0       0.0          0         0 hdisk19                0.0       0.0       0.0          0         0  hdisk4                 5.8     593.5      43.2   1941265217  145036858 hdisk7                 0.0       0.0       0.0          0         0 hdisk20                0.0       0.0       0.0          0         0 hdisk15                0.0       0.0       0.0          0         0 hdisk22                0.0       0.0       0.0          0         0 hdisk24                0.0       0.0       0.0          0         0 hdisk17                0.0       0.0       0.0          0         0  hdisk6                 3.4     280.2      28.6   980011709   4953536 hdisk21                0.0       0.0       0.0          0         0 hdisk23                0.0       0.0       0.0          0         0 hdisk25                0.0       0.0       0.0          0         0 hdisk26                0.0       0.0       0.0          0         0 hdisk27                0.0       0.0       0.0          0         0   
